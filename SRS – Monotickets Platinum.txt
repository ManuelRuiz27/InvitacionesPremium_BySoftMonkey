SRS – Monotickets Platinum

Especificación de Requerimientos de Software

1. INTRODUCCIÓN
1.1 Propósito

El presente documento define la Especificación de Requerimientos de Software (SRS) para Monotickets Platinum, una plataforma digital enfocada en la generación, distribución y administración de invitaciones digitales para eventos privados como bodas, XV años, graduaciones, aniversarios, bautizos y otros eventos sociales cerrados.

El objetivo principal de este SRS es:

Establecer con claridad la funcionalidad del sistema para el equipo de desarrollo.

Servir como referencia para QA, diseño, arquitectura y planeación.

Definir los módulos, roles, flujos, restricciones y criterios de aceptación necesarios para implementar el MVP y sus extensiones inmediatas.

1.2 Alcance del Sistema

Monotickets Platinum permitirá:

Crear eventos privados.

Generar invitaciones digitales en dos modalidades:

Plantillas PDF estándar

Plantilla Premium (Landing Flipbook)

Permitir la carga de invitados mediante:

Lista CSV/Excel.

Formulario RSVP.

Link opcional para anfitriones.

Enviar invitaciones por SMS y WhatsApp.

Gestionar confirmaciones (RSVP).

Generar QR dinámicos para acceso al evento.

Control de acceso vía aplicación para staff con escáner.

Panel del planner con métricas.

Panel del Director Global con vista completa de métricas de planners, eventos e invitaciones generadas.

El sistema no incluye pagos, marketplace público ni módulos financieros en este MVP.

1.3 Definiciones, Acrónimos y Abreviaturas

Monotickets Platinum: Plataforma descrita en este documento.

Planner: Usuario organizador del evento.

Invitado Especial / Anfitrión: Persona (p. ej., novios) que aporta lista de invitados.

Staff: Persona encargada del escaneo en el evento.

Invitado: Persona que recibe la invitación digital.

QR Dinámico: Código QR basado en token firmado (JWT) con validaciones antifraude.

RSVP: Confirmación de asistencia.

Landing Premium: Invitación digital interactiva tipo flipbook.

Director Global: Superusuario que supervisa planners, eventos y métricas.

1.4 Referencias

Documentación previa de Monotickets (invitaciones, QR dinámico, scanner).

WhatsApp Cloud API (Meta).

Infraestructura recomendada interna.

1.5 Panorama General del Documento

Este documento contiene:

Introducción

Descripción general del sistema

Requerimientos funcionales y no funcionales

Requerimientos de interfase

Otros requerimientos

Su finalidad es permitir implementar Monotickets Platinum sin ambigüedades.

2. DESCRIPCIÓN GENERAL
2.1 Perspectiva del Producto

Monotickets Platinum es una plataforma web moderna que permite a organizadores de eventos privados gestionar invitaciones digitales y control de acceso sin necesidad de boletaje. El flujo central contempla:

Creación de evento

Creación de invitaciones

Recolección de invitados (CSV, RSVP o anfitriones)

Envío (SMS/WhatsApp)

Confirmación

Generación de QR dinámico

Escaneo en el evento

Métricas

2.2 Funciones del Producto

El sistema permitirá:

Director Global

Ver todos los planners registrados.

Ver todos los eventos del sistema.

Métricas globales:

Eventos activos

Invitaciones generadas (QR generados)

Confirmaciones totales

Asistencias registradas

Planner

Crear, editar y eliminar eventos.

Seleccionar plantilla PDF o Premium.

Personalizar colores, portadas y galería.

Cargar invitados vía:

CSV/Excel

Formulario RSVP

Link opcional para anfitriones

Enviar invitaciones por SMS + WhatsApp.

Ver confirmaciones en tiempo real.

Ver escaneos del evento.

Staff

Iniciar sesión con token.

Escanear QR.

Recibir feedback visual:

Verde = válido

Rojo = duplicado/invalidado

Historial de escaneos.

Invitado

Recibir invitación personalizada.

Abrir PDF o Landing Premium.

Confirmar asistencia con un clic.

Ver QR dinámico activado tras confirmar.

Agregar evento a calendario.

Ver mapa, mesa de regalos y galería (Premium).

2.3 Características de los Usuarios

Director Global: usuario técnico-administrativo avanzado.

Planner: wedding planners, coordinadores de graduación, padres organizadores, etc.

Staff: usuario operativo el día del evento.

Invitado: usuario final, no técnico, móvil.

2.4 Restricciones Generales

Máx. de invitados por evento: 500.

Máx. invitados por invitación (guestCount): 10.

Máx. fotos por invitación: 5.

Peso máximo por imagen: 2 MB.

QR debe ser JWT firmado.

Envíos: primero SMS, luego WhatsApp.

2.5 Suposiciones y Dependencias

Usuarios tienen dispositivos móviles.

Invitados tienen acceso a SMS o WhatsApp.

Planner tiene imágenes con peso aceptable.

Staff tiene dispositivo con cámara.

3. REQUERIMIENTOS ESPECÍFICOS
3.1 Requerimientos Funcionales
3.1.1 Historias de Usuario
Historia 1 – Planner crea un evento

Como Planner
Quiero crear un evento privado
Para generar invitaciones digitales personalizadas.

Criterios:

Definir nombre, fecha, ubicación.

Elegir plantilla PDF o Premium.

Personalizar visual.

Historia 2 – Planner carga invitados

Como Planner
Quiero cargar invitados fácilmente
Para generar invitaciones sin recopilar datos manualmente.

Métodos permitidos:

CSV/Excel

Formulario RSVP

Link opcional a anfitriones

Historia 3 – Sistema genera invitaciones

Como Sistema
Quiero generar las invitaciones automáticamente
Para entregarlas a cada invitado.

Historia 4 – Envío por SMS y WhatsApp

Como Planner
Quiero enviar invitaciones automáticamente
Para simplificar la logística.

Flujo:

SMS

Si falla → WhatsApp Cloud API

Historia 5 – Invitado confirma asistencia

Como Invitado
Quiero confirmar mi asistencia desde un enlace
Para activar mi invitación con QR.

Confirmación automática → QR activo.

Historia 6 – Staff controla acceso

Como Staff
Quiero escanear códigos QR
Para permitir acceso al evento.

Feedback visual inmediato.

Historia 7 – Director Global ve métricas

Como Director Global
Quiero ver métricas globales
Para supervisar planners, eventos e invitaciones generadas.

3.1.2 Requerimientos Detallados de Funciones

(Se listan como RF = Requerimiento Funcional)

Evento

RF1: Planner puede crear eventos.

RF2: Planner selecciona plantilla.

RF3: Sistema genera landing Premium si aplica.

Invitados

RF4: Carga CSV/Excel.

RF5: Formulario RSVP genera invitados automáticamente.

RF6: Link para anfitriones disponible opcionalmente.

RF7: Sistema valida duplicados.

Invitaciones

RF8: Sistema crea invitación por invitado.

RF9: QR incluye:

eventId

guestId

guestCount

exp

jti

Delivery

RF10: Envío por SMS.

RF11: Si falla, WhatsApp.

Confirmaciones

RF12: Invitado confirma vía landing/PDF.

RF13: QR activado solo en estado “confirmed”.

Escaneo

RF14: Staff escanea QR.

RF15: Sistema valida duplicado, expirado o inválido.

RF16: Asistencia registrada.

Director Global

RF17: Ver planners.

RF18: Ver eventos globales.

RF19: Ver métricas globales:

Número de eventos

Invitaciones generadas

Confirmaciones

Escaneos

3.2 Requerimientos No Funcionales
3.2.1 Rendimiento

Procesamiento de plantillas Premium < 2 segundos.

Escaneo QR validado < 1 segundo.

3.2.2 Seguridad

QR firmado con JWT.

HTTPS obligatorio.

Roles: Director > Planner > Staff > Invitado.

3.2.3 Usabilidad

Landing Premium mobile-first.

Confirmación 1 clic.

3.2.4 Confiabilidad

99% lecturas QR en primer intento.

Sistema debe regenerar QR al expirar.

3.2.5 Mantenibilidad

Código modular en microservicios.

Logs centralizados.

3.2.6 Portabilidad

Compatible con Android/iPhone.

3.2.7 Escalabilidad

Hasta 500 invitados por evento en MVP.

3.3 Requerimientos de Interfaz Externa
3.3.1 UI

Panel Planner.

Panel Staff (escáner).

Landing Premium.

Director Global Dashboard.

3.3.2 Hardware

Dispositivo móvil con cámara.

3.3.3 Software

Navegador moderno actualizado.

Sistema debe integrarse con WhatsApp Cloud API.

3.3.4 Comunicación

SMS → vía proveedor externo.

WhatsApp Cloud → vía API oficial.

3.4 Otros Requerimientos
3.4.1 Legales

Protección de datos personales.

Eliminación segura de eventos bajo solicitud.

3.4.2 Datos

Datos residuales se eliminan tras 12 meses.

Invitaciones Premium deben tener TTL en almacenamiento.

. Diagrama de arquitectura (alto nivel)
1.1 Vista lógica
                +----------------------+
                |   Director Global    |
                | (Web Admin Panel)    |
                +----------+-----------+
                           |
                +----------v-----------+
                |       Planner        |
                |   (Web Dashboard)    |
                +----------+-----------+
                           |
                           | HTTP (HTTPS, JSON/REST)
                           v
                 +---------+----------+
                 |   Backend API      |
                 | (Monotickets Plat) |
                 +----+----+----+-----+
                      |    |    |
          ------------+    |    +-------------------
          |                |                        |
   +------v-----+   +------v------+          +------v------+
   |  Guests &  |   |  Delivery   |          |   Scanner   |
   |  Landing   |   | (SMS/WA)    |          |  (Staff)    |
   +------------+   +------+------+\         +-------------+
                           |       \  HTTP
                           |        \
                    +------v---------v------------+
                    |   Proveedor SMS / Gateway   |
                    +-----------------------------+
                    +-----------------------------+
                    | WhatsApp Cloud API (Meta)   |
                    +-----------------------------+

                 +-------------------------------+
                 |       Base de Datos           |
                 | (PostgreSQL / MySQL, etc.)    |
                 +-------------------------------+

1.2 Componentes

Frontend Planner / Director

SPA o app web (React, por ejemplo).

Consume API REST para:

Crear eventos

Gestionar invitados

Configurar plantillas

Ver métricas

Landing del Invitado

Web pública per-invitado.

Muestra:

Portada (PDF o Premium)

Info del evento

Botón de confirmación

QR dinámico (activo sólo tras RSVP)

Mapa, mesa de regalos, etc. (Premium)

Panel Staff (Scanner)

Web o PWA ligera:

Pantalla de cámara

Feedback visual por QR

Historial lateral

Backend API

Módulos lógicos:

Auth y roles (Director, Planner, Staff)

Events (eventos, plantillas)

Guests & Invitations (invitados, QR, estados)

Delivery (SMS + WhatsApp)

Metrics (para planner y director)

Scanner (validación de QR, asistencias)

Servicios externos

Proveedor SMS (Twilio/otro).

WhatsApp Cloud API (Meta).

Base de datos

Almacena:

Usuarios (director, planners, staff)

Eventos

Invitados

Invitaciones

Tokens QR emitidos

Intentos de entrega (SMS/WA)

Escaneos/asistencia

2. Modelo ER (Entidad–Relación)
2.1 Diagrama ER (texto)
USERS (id, name, email, phone, role, password_hash, ... )
      |1
      |  (role = 'PLANNER')
      |N
PLANNERS (id, user_id, org_name, ...)

USERS (role = 'DIRECTOR_GLOBAL')   -> no tabla extra, se controla por role

EVENTS (id, planner_id, name, type, date, time, location, template_type,
        template_variant, is_premium, status, created_at, updated_at)

PLANNERS 1 ----- N EVENTS

GUESTS (id, event_id, full_name, phone, rsvp_status, rsvp_source,
        notes, created_at, updated_at)

EVENTS 1 ----- N GUESTS

INVITATIONS (id, event_id, guest_id, invite_code, guest_count,
             invite_type, landing_url, pdf_url,
             qr_token_id, status, created_at, updated_at)

EVENTS 1 ----- N INVITATIONS
GUESTS 1 ----- 1 INVITATIONS  (para MVP: 1 invitación por guest)

QR_TOKENS (id, invitation_id, token_jwt, expires_at,
           is_active, last_used_at, created_at)

INVITATIONS 1 ----- N QR_TOKENS (por rotación/renovación si aplicara)
Para MVP puede ser 1:1.

DELIVERY_ATTEMPTS (id, invitation_id, guest_id, channel, status,
                   provider_message_id, error_code, created_at)

INVITATIONS 1 ----- N DELIVERY_ATTEMPTS
GUESTS 1 ----- N DELIVERY_ATTEMPTS

SCANS (id, qr_token_id, invitation_id, guest_id, event_id,
       scanned_at, scan_result, scanned_by_staff_id)

QR_TOKENS 1 ----- N SCANS
USERS (role='STAFF') 1 ----- N SCANS

TEMPLATES (id, name, category, type, is_premium, config_json,
           active, created_at, updated_at)

EVENTS (template_variant) -> TEMPLATES.id (FK opcional)

2.2 Desglose por tabla (versión MVP)
USERS

id (PK)

name

email

phone

role (DIRECTOR_GLOBAL, PLANNER, STAFF)

password_hash

created_at

updated_at

PLANNERS

id (PK)

user_id (FK → USERS.id)

org_name

created_at

updated_at

EVENTS

id (PK)

planner_id (FK → PLANNERS.id)

name

type (BODA, XV, GRADUACION, BAUTIZO, BABY_SHOWER, ANIVERSARIO, COMUNION, SOCIAL)

date

time

location_text

location_lat

location_lng

template_type (PDF, PREMIUM)

template_variant (FK opcional → TEMPLATES.id)

is_premium (bool)

status (DRAFT, PUBLISHED, CLOSED)

created_at

updated_at

GUESTS

id (PK)

event_id (FK → EVENTS.id)

full_name

phone

rsvp_status (PENDING, CONFIRMED, DECLINED)

rsvp_source (CSV, RSVP_FORM, HOST_LINK)

notes

created_at

updated_at

INVITATIONS

id (PK)

event_id (FK → EVENTS.id)

guest_id (FK → GUESTS.id)

invite_code (string único corto)

guest_count (int, 1–10)

invite_type (STANDARD, FAMILY, VIP)

landing_url

pdf_url

qr_token_id (FK → QR_TOKENS.id, opcional si se rota)

status (PENDING_DELIVERY, DELIVERED, BOUNCED)

created_at

updated_at

QR_TOKENS

id (PK)

invitation_id (FK → INVITATIONS.id)

token_jwt (texto)

expires_at

is_active (bool)

last_used_at

created_at

DELIVERY_ATTEMPTS

id (PK)

invitation_id (FK → INVITATIONS.id)

guest_id (FK → GUESTS.id)

channel (SMS, WHATSAPP)

status (PENDING, SENT, FAILED)

provider_message_id

error_code

created_at

SCANS

id (PK)

qr_token_id (FK → QR_TOKENS.id)

invitation_id (FK → INVITATIONS.id)

guest_id (FK → GUESTS.id)

event_id (FK → EVENTS.id)

scanned_by_staff_id (FK → USERS.id con role=STAFF)

scanned_at

scan_result (VALID, DUPLICATE, EXPIRED, INVALID)

TEMPLATES

id (PK)

name

category (BODA, XV, etc.)

type (PDF, PREMIUM)

is_premium (bool)

config_json (JSON con estilos, textos por defecto, etc.)

active (bool)

created_at

updated_at

Con esto puedes derivar fácilmente migraciones en cualquier ORM.

3. Backlog MVP con criterios de aceptación

Te lo dejo organizado por módulos: Director Global, Planner, Invitado, Staff y Sistema/Delivery.

3.1 Módulo Director Global
US-DIR-01 – Ver listado de planners

Como Director Global
Quiero ver un listado de planners activos
Para entender quién está usando la plataforma.

Criterios de aceptación

Se muestra una tabla con: nombre del planner, organización, email, número de eventos.

Debe haber paginación.

Solo accesible para usuarios con rol DIRECTOR_GLOBAL.

US-DIR-02 – Ver métricas globales

Como Director Global
Quiero ver métricas globales del sistema
Para monitorear el uso general.

Criterios de aceptación

Se muestra:

Total de eventos creados.

Total de invitaciones generadas (QR generados).

Total de confirmaciones.

Total de escaneos.

Debe permitir filtrar por rango de fechas.

Debe permitir filtrar por planner.

US-DIR-03 – Ver métricas por planner

Como Director Global
Quiero ver métricas por planner
Para entender el desempeño de cada uno.

Criterios de aceptación

Desde el listado de planners, puedo entrar al detalle de uno.

En el detalle se ve:

Eventos activos creados por ese planner.

Invitaciones generadas para esos eventos.

Confirmaciones recibidas.

Escaneos realizados.

Datos actualizados en tiempo cercano a tiempo real (polling o recarga manual).

3.2 Módulo Planner
US-PLA-01 – Crear evento

Como Planner
Quiero crear un evento privado
Para iniciar la generación de invitaciones.

Criterios

Formulario con:

Nombre del evento

Tipo (boda, XV, etc.)

Fecha, hora

Ubicación (texto + opcional coordenadas)

Al guardar, se crea un registro en EVENTS.

El evento inicia en estado DRAFT.

US-PLA-02 – Seleccionar plantilla

Como Planner
Quiero seleccionar una plantilla de invitación
Para definir el estilo visual.

Criterios

Lista de plantillas agrupadas por categoría.

Puedo elegir:

Plantilla estándar PDF, o

Plantilla Premium (landing flipbook).

El sistema guarda template_type y template_variant.

US-PLA-03 – Cargar invitados vía CSV/Excel

Como Planner
Quiero subir un archivo de invitados
Para cargar muchos invitados de forma rápida.

Criterios

Se permite subir un archivo CSV/Excel con columnas mínimas: nombre, teléfono.

El sistema valida formato:

Números de teléfono válidos.

Filas vacías ignoradas.

Se crean registros en GUESTS con rsvp_source = CSV.

Se crea una INVITATION por cada GUEST.

US-PLA-04 – Habilitar formulario RSVP

Como Planner
Quiero habilitar un formulario de RSVP
Para que los invitados llenen sus datos directamente.

Criterios

El sistema genera una URL única de formulario por evento.

El planner puede copiar esa URL para compartirla.

Los envíos del formulario crean GUESTS con rsvp_source = RSVP_FORM.

Si el teléfono ya existe en GUESTS para ese evento, no duplica; actualiza.

US-PLA-05 – Link opcional para anfitriones

Como Planner
Quiero generar un enlace especial para anfitriones
Para que ellos puedan subir o gestionar la lista de invitados.

Criterios

El sistema genera un enlace con token de acceso limitado.

Desde ese enlace se puede:

Subir una lista simple (mismo formato CSV/Excel).

O compartir el formulario RSVP a sus invitados.

Los invitados generados quedan vinculados al evento correspondiente.

US-PLA-06 – Configurar invitaciones grupales (guestCount)

Como Planner
Quiero definir cuántas personas están incluidas por invitación
Para manejar invitaciones familiares o de grupo.

Criterios

En el formulario de invitado se muestra un campo “Número de personas” (1–10).

Valor por defecto: 1.

Se guarda en INVITATIONS.guest_count.

Al escanear, el sistema muestra cuántas personas corresponden a ese código.

US-PLA-07 – Enviar invitaciones (push)

Como Planner
Quiero disparar el envío de invitaciones
Para que los invitados reciban sus enlaces.

Criterios

Botón “Enviar invitaciones” por evento.

Para cada invitación con estado PENDING_DELIVERY:

Se crea un registro en DELIVERY_ATTEMPTS con channel=SMS y status=PENDING.

El backend ejecuta:

Intento por SMS.

Si falla, crea otro DELIVERY_ATTEMPT con channel=WHATSAPP.

Se pueden reintentar envíos fallidos.

US-PLA-08 – Ver confirmaciones y estado de invitados

Como Planner
Quiero ver el estado de mis invitados
Para saber quién ha confirmado.

Criterios

Tabla de invitados:

Nombre

Teléfono

RSVP (PENDING, CONFIRMED, DECLINED)

Estado de envío (DELIVERED/FAILED)

Número de personas (guest_count)

Se puede filtrar por rsvp_status.

US-PLA-09 – Ver escaneos durante el evento

Como Planner
Quiero ver quién ha entrado al evento
Para monitorear asistencia en tiempo real.

Criterios

Vista de escaneos:

Nombre del invitado

Hora de escaneo

Resultado (VALID, DUPLICATE, etc.)

Contador:

Total confirmados

Total escaneados

Total pendientes

3.3 Módulo Invitado
US-INV-01 – Recibir invitación

Como Invitado
Quiero recibir un enlace con mi invitación
Para poder revisar los detalles del evento.

Criterios

El mensaje (SMS o WhatsApp) contiene:

Texto personalizado del evento.

Enlace único a la invitación (landing_url).

El enlace abre la landing o descarga PDF (según configuración).

US-INV-02 – Confirmar asistencia

Como Invitado
Quiero confirmar con un clic
Para avisar que sí asistiré.

Criterios

Landing o página muestra botón “Confirmar asistencia”.

Al hacer clic:

GUESTS.rsvp_status pasa a CONFIRMED.

Se genera/activa QR_TOKENS para esa invitación.

Se muestra QR listo para usar en el evento.

Si ya estaba confirmado, el botón no debe duplicar confirmación.

US-INV-03 – Ver detalles del evento (Premium)

Como Invitado
Quiero ver todos los detalles del evento en la landing
Para saber dónde y cuándo es, y tener la mesa de regalos.

Criterios

Landing Premium muestra:

Portada con efecto libro.

Fecha y hora.

Dirección + mapa.

Enlace a mesa de regalos.

botón “Agregar al calendario”.

Galería de fotos (hasta 5 imágenes, cargadas desde el evento).

3.4 Módulo Staff (Escáner)
US-STF-01 – Iniciar sesión como staff

Como Staff
Quiero acceder a una pantalla de escaneo
Para poder validar invitaciones en la entrada.

Criterios

Staff ingresa con credenciales o token.

Al entrar, se muestra:

Vista de cámara

Botón para activar/desactivar linterna (si aplica)

Panel lateral de últimos escaneos.

US-STF-02 – Escanear código QR

Como Staff
Quiero escanear el QR de un invitado
Para validar su acceso al evento.

Criterios

Al enfocar el QR:

El sistema decodifica el token.

Envía POST /scan/validate al backend.

Backend responde con:

VALID → Fondo verde, vibración simple, muestra nombre y guest_count.

DUPLICATE → Fondo rojo, doble vibración, muestra advertencia.

EXPIRED o INVALID → Fondo rojo, mensaje de error.

Se registra un SCANS con el resultado.

3.5 Módulo Sistema / Delivery
US-SYS-01 – Generar QR dinámico

Como Sistema
Quiero generar un token QR por invitación
Para que pueda ser validado en el evento.

Criterios

Token JWT incluye:

eventId

guestId

invitationId opcional

guestCount

exp

jti

Se almacena en QR_TOKENS.

is_active = true tras confirmación.

US-SYS-02 – Intentar envío por SMS y WhatsApp

Como Sistema
Quiero enviar la invitación por SMS y, si falla, por WhatsApp
Para asegurar que el invitado reciba su enlace.

Criterios

Primero intenta SMS:

Si SMS = OK → DELIVERY_ATTEMPTS.status = SENT.

Si SMS = FAIL → crea intento por WhatsApp.

Si WhatsApp también falla:

status = FAILED.

planner debe poder ver el estado de envío.