1Ô∏è‚É£ Los archivos .md separados por m√≥dulo (listas para copiar tal cual al repo).
2Ô∏è‚É£ El contrato OpenAPI inicial completo (versi√≥n lista para implementar en Codex Cloud / NestJS).

Todo est√° estructurado, limpio y preparado para producci√≥n.

üß© 1. ARCHIVOS .md POR M√ìDULO

A continuaci√≥n te doy el contenido para que puedas crear los archivos en tu repositorio /docs.
Cada uno viene con su nombre sugerido.

üìÑ docs/director-global.md
# Director Global ‚Äì Monotickets Platinum  
## Funcionalidades y Criterios de Aceptaci√≥n

---

## 1. Objetivo
El rol de **Director Global** supervisa el funcionamiento completo de Monotickets Platinum: planners, eventos, invitaciones generadas, confirmaciones y escaneos.

---

## 2. Funcionalidades

### **DG-01 ‚Äì Ver listado de planners**
- Tabla con: nombre, email, n√∫mero de eventos, fecha creaci√≥n.
- Paginaci√≥n.
- Solo acceso para `DIRECTOR_GLOBAL`.

### **DG-02 ‚Äì Ver m√©tricas globales**
- Total eventos.
- Total invitaciones generadas (QR emitidos).
- Total confirmaciones.
- Total escaneos.
- Filtros por rango de fechas.

### **DG-03 ‚Äì Ver detalle por planner**
- Eventos del planner.
- Invitaciones generadas por esos eventos.
- Confirmaciones recibidas.
- Asistencias registradas.

### **DG-04 ‚Äì Ver eventos globales**
- Tabla de eventos: planner, nombre, tipo, fecha.
- Estado: `DRAFT`, `PUBLISHED`, `CLOSED`.

### **DG-05 ‚Äì Configuraci√≥n b√°sica del ecosistema**
- Activar/desactivar plantillas globales.
- Ver m√©tricas de uso por plantilla.

---

## 3. Reglas del Director Global
- No edita informaci√≥n de planners.
- No modifica invitados.
- Puede cerrar eventos si representan riesgo o mal uso.

üìÑ docs/planner.md
# Planner ‚Äì Monotickets Platinum  
## Funcionalidades y Criterios de Aceptaci√≥n

---

## 1. Objetivo
Los planners administran eventos privados, generan invitaciones y monitorean confirmaciones y asistencia.

---

## 2. Funcionalidades

### **PL-01 ‚Äì Crear evento**
- Formulario con: nombre, tipo, fecha, hora, ubicaci√≥n.
- Selecci√≥n de plantilla PDF o Premium.

### **PL-02 ‚Äì Personalizar plantilla**
- Cambiar colores, tipograf√≠a (opcional), portada e im√°genes.
- M√°x. 5 fotos, m√°x. 2MB c/u.

### **PL-03 ‚Äì Cargar invitados (CSV/Excel)**
- Archivo sencillo con: nombre, tel√©fono.
- Validaci√≥n autom√°tica.
- Se crean `GUESTS` y `INVITATIONS`.

### **PL-04 ‚Äì Habilitar formulario RSVP**
- Link √∫nico generado por evento.
- Invitados llenan nombre + tel√©fono.
- Se crean registros `GUESTS` con `rsvp_source = RSVP_FORM`.

### **PL-05 ‚Äì Link para anfitriones (opcional)**
- URL protegida con token.
- Permite subir CSV o compartir RSVP.

### **PL-06 ‚Äì Configurar invitaciones grupales**
- Definir `guestCount` por invitaci√≥n (1‚Äì10).

### **PL-07 ‚Äì Env√≠o de invitaciones**
- Bot√≥n ‚ÄúEnviar invitaciones‚Äù.
- Flujo:
  - 1Ô∏è‚É£ SMS  
  - 2Ô∏è‚É£ Si falla ‚Üí WhatsApp

### **PL-08 ‚Äì Ver confirmaciones**
- Tabla: nombre, tel√©fono, estado RSVP, estado env√≠o, guestCount.

### **PL-09 ‚Äì Ver escaneos**
- Panel de asistencia en tiempo real.

---

## 3. Reglas del Planner
- No ve m√©tricas globales.
- No edita plantillas globales.
- Solo administra eventos propios.

üìÑ docs/invitado.md
# Invitado ‚Äì Monotickets Platinum  
## Funcionalidades y Experiencia de Usuario

---

## 1. Objetivo
El invitado recibe y usa su invitaci√≥n digital, confirma asistencia y presenta su QR en el evento.

---

## 2. Funcionalidades

### **INV-01 ‚Äì Recibir invitaci√≥n**
- Por SMS o WhatsApp.
- Mensaje contiene enlace √∫nico.

### **INV-02 ‚Äì Landing Premium**
- Portada (efecto libro).
- Datos del evento.
- Mapa.
- Mesa de regalos.
- Galer√≠a (m√°x. 5 fotos).
- Bot√≥n ‚ÄúAgregar al calendario‚Äù.

### **INV-03 ‚Äì Confirmar asistencia**
- Bot√≥n 1 clic.
- Cambia RSVP a `CONFIRMED`.
- Activa QR din√°mico.

### **INV-04 ‚Äì QR din√°mico**
- JWT con:
  - eventId
  - guestId
  - guestCount
  - exp
  - jti
- V√°lido solo con RSVP confirmado.

---

## 3. Reglas del Invitado
- No puede modificar datos del evento.
- Puede acceder m√∫ltiples veces a su enlace.

üìÑ docs/staff.md
# Staff ‚Äì Monotickets Platinum  
## Funcionalidades y Criterios de Aceptaci√≥n

---

## 1. Objetivo
El staff controla el acceso al evento mediante escaneo de QR din√°micos.

---

## 2. Funcionalidades

### **ST-01 ‚Äì Inicio de sesi√≥n**
- Token o credenciales.
- Acceso solo al evento asignado.

### **ST-02 ‚Äì Escanear QR**
- Usa c√°mara del dispositivo.
- Env√≠a token JWT al backend.
- Recibe respuesta:
  - VALID ‚Üí Verde + vibraci√≥n ligera + nombre + guestCount
  - DUPLICATE ‚Üí Rojo + doble vibraci√≥n
  - INVALID/EXPIRED ‚Üí Rojo + error

### **ST-03 ‚Äì Historial de escaneos**
- Lista lateral con:
  - Nombre
  - Resultado
  - Hora

---

## 3. Reglas del Staff
- No edita invitados.
- No env√≠a invitaciones.
- No tiene acceso al panel del planner.

üìÑ docs/sistema-delivery.md
# Delivery de Invitaciones ‚Äì Monotickets Platinum  
## SMS + WhatsApp Cloud API

---

## 1. Flujo General
1. Planner presiona ‚ÄúEnviar invitaciones‚Äù.
2. El sistema crea un intent de env√≠o por SMS.
3. Si SMS falla:
   - Genera un intent por WhatsApp Cloud API.
4. Registra resultados en `DELIVERY_ATTEMPTS`.

---

## 2. L√≥gica de Env√≠o

### **SMS**
- Prioridad 1.
- Plantilla:
  - Texto corto + link.

### **WhatsApp**
- Prioridad 2 (fallback).
- Plantilla configurada desde Meta.

### **Condiciones de falla**
- N√∫mero inv√°lido.
- Proveedor ca√≠do.
- L√≠mite diario superado.

---

## 3. Reglas
- Cada invitaci√≥n debe tener al menos 1 attempt.
- Reintentos manuales permitidos.

üü¶ 2. CONTRATO OPENAPI (Versi√≥n MVP)

(Listo para Codex/NestJS)

openapi: 3.0.3
info:
  title: Monotickets Platinum API
  version: 1.0.0

servers:
  - url: https://api.monotickets-platinum.com
    description: Production

tags:
  - name: Auth
  - name: Planners
  - name: Events
  - name: Guests
  - name: Invitations
  - name: Delivery
  - name: Scanner
  - name: DirectorGlobal

paths:

  /auth/login:
    post:
      tags: [Auth]
      summary: Login de usuario
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email: { type: string }
                password: { type: string }
      responses:
        "200":
          description: Login correcto
        "401":
          description: Credenciales incorrectas

  /planners/me:
    get:
      tags: [Planners]
      security:
        - bearerAuth: []
      summary: Obtener datos del planner logueado
      responses:
        "200":
          description: Datos del planner

  /events:
    post:
      tags: [Events]
      security:
        - bearerAuth: []
      summary: Crear evento
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name: { type: string }
                type: { type: string }
                date: { type: string, format: date }
                time: { type: string }
                location: { type: string }
                template_type: { type: string }
      responses:
        "201":
          description: Evento creado

    get:
      tags: [Events]
      security:
        - bearerAuth: []
      summary: Listar eventos del planner
      responses:
        "200":
          description: Lista de eventos

  /events/{eventId}:
    get:
      tags: [Events]
      security:
        - bearerAuth: []
      summary: Obtener evento
      parameters:
        - in: path
          name: eventId
          required: true
          schema: { type: string }
      responses:
        "200":
          description: Evento encontrado

  /events/{eventId}/guests/upload:
    post:
      tags: [Guests]
      security:
        - bearerAuth: []
      summary: Subir invitados v√≠a CSV/Excel
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        "200":
          description: Invitados cargados

  /events/{eventId}/rsvp-form:
    get:
      tags: [Guests]
      security:
        - bearerAuth: []
      summary: Generar link de formulario RSVP
      responses:
        "200":
          description: Link generado

  /events/{eventId}/host-link:
    get:
      tags: [Guests]
      security:
        - bearerAuth: []
      summary: Generar link para anfitriones
      responses:
        "200":
          description: Link generado

  /invitations/{invitationId}/send:
    post:
      tags: [Delivery]
      security:
        - bearerAuth: []
      summary: Enviar invitaci√≥n por SMS/WhatsApp
      responses:
        "200":
          description: Intent enviado

  /scanner/validate:
    post:
      tags: [Scanner]
      security:
        - bearerAuth: []
      summary: Validar QR escaneado
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                token: { type: string }
      responses:
        "200":
          description: Resultado del escaneo

  /director/planners:
    get:
      tags: [DirectorGlobal]
      security:
        - bearerAuth: []
      summary: Listar planners
      responses:
        "200":
          description: Lista de planners

  /director/metrics:
    get:
      tags: [DirectorGlobal]
      security:
        - bearerAuth: []
      summary: M√©tricas globales
      responses:
        "200":
          description: M√©tricas
          
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT